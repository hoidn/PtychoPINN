# Log Summary Conventions

This guide defines the canonical location and filename structure for the condensed markdown summaries that accompany the raw orchestration logs generated by galph (supervisor) and ralph (engineer).

## Directory Layout

- Summaries live under the same branch prefix used for raw logs:
  - `logs/<branch>/galph-summaries/`
  - `logs/<branch>/ralph-summaries/`
- Keep raw logs and summaries side by side (`galph/`, `ralph/`) so scripts can discover either form without additional configuration.

## Filename Pattern

- Use the hyphenated suffix for every summary:
  ```
  iter-<5-digit-iteration>_<UTC timestamp>-summary.md
  ```
  Examples:
  - `iter-00041_20251017_192257-summary.md`
  - `iter-00075_20251019_081156-summary.md`
- The timestamp is captured as `YYYYMMDD_HHMMSS` (UTC) and matches the moment the summary was written.
- Do not mix underscore and hyphen suffixes (e.g., avoid `_summary.md`).
- Multiple summaries for the same iteration are allowed (e.g., restarts) because the timestamp disambiguates files.

## Contents

- Markdown front matter is not required; keep summaries as plain markdown.
- Call out artifact links using repo-relative paths so downstream tooling can reference supporting evidence.
- When referencing other summaries, use the same canonical naming pattern.

## Tooling Expectations

- `scripts/orchestration/tail_interleave_logs.py` can now interleave either raw logs or these summaries. Use `--source summaries` to emit the markdown summaries interleaved by iteration, and `--roles` to narrow to `galph` or `ralph` as needed.
- The script annotates each `<log>` entry with `source="summary"` and `format="markdown"` so consumers can differentiate between raw and summarized content.
- Downstream automation assumes the directory names and filename suffixes defined above; deviations will be skipped.

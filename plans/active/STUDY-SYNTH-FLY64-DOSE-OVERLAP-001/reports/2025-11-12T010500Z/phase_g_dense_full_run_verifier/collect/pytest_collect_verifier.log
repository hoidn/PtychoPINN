============================= test session starts ==============================
platform linux -- Python 3.11.13, pytest-8.4.1, pluggy-1.6.0 -- /home/ollie/miniconda3/envs/ptycho311/bin/python3.11
cachedir: .pytest_cache
PyTorch: available
PyTorch version: 2.8.0+cu128
rootdir: /home/ollie/Documents/PtychoPINN2
configfile: pyproject.toml
plugins: anyio-4.9.0
collecting ... collected 17 items / 15 deselected / 2 selected

<Dir PtychoPINN2>
  <Package tests>
    <Package study>
      <Module test_phase_g_dense_artifacts_verifier.py>
        Tests for Phase G dense pipeline artifact inventory validation.
        
        Covers the TDD cycle for validate_artifact_inventory() in verify_dense_pipeline_artifacts.py
        <Function test_verify_dense_pipeline_cli_logs_require_ssim_grid_log>
          RED test: Verify that CLI log validation fails when ssim_grid_cli.log is missing.
          
          Acceptance:
          - Create a hub with cli/ directory and all phase logs EXCEPT ssim_grid_cli.log
          - Invoke verify_dense_pipeline_artifacts.py --hub <hub> --report <report>
          - Assert the script exits with non-zero status
          - Assert the verification report JSON shows a validation failure for CLI logs
          - Assert error message mentions missing ssim_grid_cli.log in helper logs
          
          Follows input.md Do Now step 2 (TDD RED→GREEN for ssim_grid_cli.log requirement).
        <Function test_verify_dense_pipeline_requires_ssim_grid_summary>
          RED test: Verify that validation fails when analysis/ssim_grid_summary.md is missing.
          
          Acceptance:
          - Create a hub with analysis/ directory but NO ssim_grid_summary.md
          - Invoke verify_dense_pipeline_artifacts.py --hub <hub> --report <report>
          - Assert the script exits with non-zero status
          - Assert the verification report JSON shows a validation failure for ssim_grid summary
          - Assert error message mentions missing ssim_grid_summary.md and PREVIEW-PHASE-001
          
          Follows input.md Do Now step 2 (TDD RED→GREEN for ssim_grid_summary.md requirement).

================ 2/17 tests collected (15 deselected) in 0.85s =================

# Phase D Blocker: Insufficient Dense View Acceptance Rate

## Command
```bash
python -m studies.fly64_dose_overlap.overlap \
  --phase-c-root plans/active/STUDY-SYNTH-FLY64-DOSE-OVERLAP-001/reports/2025-11-12T010500Z/phase_g_dense_full_run_verifier/data/phase_c \
  --output-root plans/active/STUDY-SYNTH-FLY64-DOSE-OVERLAP-001/reports/2025-11-12T010500Z/phase_g_dense_full_run_verifier/data/phase_d \
  --doses 1000 --views dense \
  --artifact-root plans/active/STUDY-SYNTH-FLY64-DOSE-OVERLAP-001/reports/2025-11-12T010500Z/phase_g_dense_full_run_verifier/analysis
```

## Exit Code
1

## Error Signature
`ValueError: Insufficient positions meet spacing threshold for dense view in train split even after greedy downsampling.`

## Details
- Direct acceptance: 0.0% (0/5088 positions)
- Greedy acceptance: 0.8% (42/5088 positions)  
- Minimum required: 10.0%
- Min spacing: 0.06 px
- Threshold: 38.40 px (f_overlap=0.7)

## Root Cause
Phase C generation created scan positions with spacing too small to meet the dense view's overlap threshold (38.40 px). The positions are packed too tightly (min spacing 0.06 px) relative to the probe size.

## Prerequisite Fix Completed
The pickle error blocking Phase D (`ValueError: Object arrays cannot be loaded when allow_pickle=False`) was fixed by adding `allow_pickle=True` to `np.load()` calls in:
- studies/fly64_dose_overlap/overlap.py:388
- studies/fly64_dose_overlap/training.py:409
- studies/fly64_dose_overlap/training.py:416

## Next Actions
1. Review Phase C generation parameters (scan spacing configuration)
2. Either:
   a) Regenerate Phase C with wider scan spacing, OR
   b) Relax the overlap fraction threshold (currently f_overlap=0.7)
3. Consult supervisor for parameter adjustment strategy

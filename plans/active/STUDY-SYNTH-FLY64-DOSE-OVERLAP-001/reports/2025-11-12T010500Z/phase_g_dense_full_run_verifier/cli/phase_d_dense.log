# Programmatic Phase D overlap generation
# Hub: /home/ollie/Documents/PtychoPINN/plans/active/STUDY-SYNTH-FLY64-DOSE-OVERLAP-001/reports/2025-11-12T010500Z/phase_g_dense_full_run_verifier
# Phase C root: /home/ollie/Documents/PtychoPINN/plans/active/STUDY-SYNTH-FLY64-DOSE-OVERLAP-001/reports/2025-11-12T010500Z/phase_g_dense_full_run_verifier/data/phase_c
# Phase D root: /home/ollie/Documents/PtychoPINN/plans/active/STUDY-SYNTH-FLY64-DOSE-OVERLAP-001/reports/2025-11-12T010500Z/phase_g_dense_full_run_verifier/data/phase_d
Using parameters: gridsize=2, s_img=0.8, n_groups=512, K=25, D=38.4, seed=456

============================================================
Generating overlap views (gridsize=2)
s_img=0.8, n_groups=512, K=25, D=38.4px
============================================================

[TRAIN] Processing patched_train.npz...
  Computing overlap metrics...
  Metrics:
    Metric 1 (group-based): 0.8909
    Metric 2 (image-based): 0.7613
    Metric 3 (group↔group): 0.2706
    Images: 4070/4070 (unique: 4070)
    Groups: 512
  Writing output NPZ: /home/ollie/Documents/PtychoPINN/plans/active/STUDY-SYNTH-FLY64-DOSE-OVERLAP-001/reports/2025-11-12T010500Z/phase_g_dense_full_run_verifier/data/phase_d/dose_100000/dense/train.npz
  Writing metrics JSON: /home/ollie/Documents/PtychoPINN/plans/active/STUDY-SYNTH-FLY64-DOSE-OVERLAP-001/reports/2025-11-12T010500Z/phase_g_dense_full_run_verifier/data/phase_d/dose_100000/dense/train_metrics.json
  ✓ TRAIN complete

[TEST] Processing patched_test.npz...
  Computing overlap metrics...
  Metrics:
    Metric 1 (group-based): 0.8942
    Metric 2 (image-based): 0.7634
    Metric 3 (group↔group): 0.2673
    Images: 4173/4173 (unique: 4173)
    Groups: 512
  Writing output NPZ: /home/ollie/Documents/PtychoPINN/plans/active/STUDY-SYNTH-FLY64-DOSE-OVERLAP-001/reports/2025-11-12T010500Z/phase_g_dense_full_run_verifier/data/phase_d/dose_100000/dense/test.npz
  Writing metrics JSON: /home/ollie/Documents/PtychoPINN/plans/active/STUDY-SYNTH-FLY64-DOSE-OVERLAP-001/reports/2025-11-12T010500Z/phase_g_dense_full_run_verifier/data/phase_d/dose_100000/dense/test_metrics.json
  ✓ TEST complete

Writing metrics bundle: /home/ollie/Documents/PtychoPINN/plans/active/STUDY-SYNTH-FLY64-DOSE-OVERLAP-001/reports/2025-11-12T010500Z/phase_g_dense_full_run_verifier/data/phase_d/dose_100000/dense/metrics_bundle.json
============================================================
Overlap view generation complete
============================================================

Programmatic Phase D complete.

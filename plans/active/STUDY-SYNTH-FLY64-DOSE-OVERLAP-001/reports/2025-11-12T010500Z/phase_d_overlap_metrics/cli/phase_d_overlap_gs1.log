================================================================================
Phase D: Overlap Metrics Generation per specs/overlap_metrics.md
================================================================================
Phase C root:        data/phase_c/dose_1000
Output root:         tmp/phase_d_overlap/gs1_s100_n512
Train NPZ:           patched_train.npz
Test NPZ:            patched_test.npz
Gridsize:            1
s_img:               1.0
n_groups:            512
neighbor_count:      6
probe_diameter_px:   38.4
rng_seed_subsample:  456
================================================================================


============================================================
Generating overlap views (gridsize=1)
s_img=1.0, n_groups=512, K=6, D=38.4px
============================================================

[TRAIN] Processing patched_train.npz...
  Computing overlap metrics...
  Metrics:
    Metric 1 (group-based): N/A (gs=1)
    Metric 2 (image-based): 0.8908
    Metric 3 (group↔group): 0.2662
    Images: 5088/5088 (unique: 5088)
    Groups: 5088
  Writing output NPZ: tmp/phase_d_overlap/gs1_s100_n512/train.npz
  Writing metrics JSON: tmp/phase_d_overlap/gs1_s100_n512/train_metrics.json
  ✓ TRAIN complete

[TEST] Processing patched_test.npz...
  Computing overlap metrics...
  Metrics:
    Metric 1 (group-based): N/A (gs=1)
    Metric 2 (image-based): 0.8917
    Metric 3 (group↔group): 0.2658
    Images: 5216/5216 (unique: 5216)
    Groups: 5216
  Writing output NPZ: tmp/phase_d_overlap/gs1_s100_n512/test.npz
  Writing metrics JSON: tmp/phase_d_overlap/gs1_s100_n512/test_metrics.json
  ✓ TEST complete

Writing metrics bundle: tmp/phase_d_overlap/gs1_s100_n512/metrics_bundle.json
============================================================
Overlap view generation complete
============================================================
